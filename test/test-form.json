{
    "type": "object",
    "properties": {
      "firstname": { "type": "string", "maxLength": 20 },
      "lastname":  { "type": "string", "maxLength": 20 },
      "username":  { "type": "string", "maxLength": 20, "format": "username", "pattern": "^[a-z][a-z0-9]+" },
      "country":   { "$ref": "#/definitions/Country" },
      "email":     { "type": "string", "maxLength": 20, "format": "email" },
      "email2":    { "type": "string", "maxLength": 20, "format": "email" },
      "birth":     { "type": "string", "pattern": "\\d{4}-\\d{2}-\\d{2}", "constraints":[ { "kind": "minAge", "value": "18years" }] },
      "flag1":     { "type": "boolean", "enum": [ true ] },
      "flag2":     { "type": "boolean" }
    },
    "constraints": [
      { "kind": "equalFields", "fields": [ "email2", "email" ] }
    ],
    "required": ["firstname", "lastname", "username", "country", "email", "email2", "birth", "flag1", "flag2"],
    "pages": [
      { 
        "alias": "names-and-country",
        "fields": ["firstname", "lastname", "username", "country"] 
      },
      { 
        "alias": "email-etc",
        "fields": ["email", "email2", "birth", "flag1", "flag2" ]
      }
    ],
    "definitions": {
      "Country": {
        "type": "string", 
        "format": "countrycode",
        "enum": [ "DE", "GB", "AT", "CH", "JP", "CN", "HN", "US", "FR", "AB", "CD", "EF", "FG", "HI", "JK"  ]
      }
    }
  }